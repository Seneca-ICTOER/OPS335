<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-A-Labs/installation-lab0">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="icon" href="/OPS335/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OPS335/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OPS335/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OPS335/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OPS335/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Installation Prep Lab 0 | OPS335 - Open System Application Server</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Seneca-ICTOER.github.io//OPS335/A-Labs/installation-lab0"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Installation Prep Lab 0 | OPS335 - Open System Application Server"><meta data-rh="true" name="description" content="Installation Prep Lab 0"><meta data-rh="true" property="og:description" content="Installation Prep Lab 0"><link data-rh="true" rel="icon" href="/OPS335/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Seneca-ICTOER.github.io//OPS335/A-Labs/installation-lab0"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OPS335/A-Labs/installation-lab0" hreflang="en"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OPS335/A-Labs/installation-lab0" hreflang="x-default"><link rel="stylesheet" href="/OPS335/assets/css/styles.099fe1a9.css">
<link rel="preload" href="/OPS335/assets/js/runtime~main.a1473b43.js" as="script">
<link rel="preload" href="/OPS335/assets/js/main.39236383.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OPS335/"><div class="navbar__logo"><img src="/OPS335/img/logo.svg" alt="Seneca College" class="themedImage_ToTc themedImage--light_HNdA"><img src="/OPS335/img/logo-dark.svg" alt="Seneca College" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OPS335 - Open System Application Server</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OPS335/">Welcome to OPS335</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OPS335/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/OPS335/A-Labs/installation-lab0">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OPS335/A-Labs/installation-lab0">Installation Prep Lab 0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab1">Lab 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab2a">Lab 2a</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab2b">Lab 2b</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab3">Lab 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab4a">Lab 4a</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab4b">Lab 4b</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab5">Lab 5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab6">Lab 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab7">Lab 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS335/A-Labs/lab8">Lab 8</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OPS335/B-Assignments/assignment1-part1">Assignments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OPS335/C-ExtraResources/resources">Extra Resources</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OPS335/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Installation Prep Lab 0</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Installation Lab 0</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="objective-and-preparation">Objective and Preparation<a class="hash-link" href="#objective-and-preparation" title="Direct link to heading">​</a></h2><p>This lab is a repeat of a portion of lab1 (and some of lab2) that you already performed in OPS235 plus some newer content that relates to this week&#x27;s notes. You are expected to be able to complete all this using your existing skills and knowledge or refer back to your OPS235 lab-book or OPS235 WIKI notes.</p><p>In this is lab, you will install your <strong>host machine</strong> (Centos7), <strong>install virtualization software</strong>, and <strong>create and install 3 nested virtual machines</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-materials">Required materials<a class="hash-link" href="#required-materials" title="Direct link to heading">​</a></h3><ul><li>Centos 7 Full Installation DVD.</li><li>One Solid State Drive (SSD), mininmum capacity: 240 GB (USB 3.0). It is strongly advised you dedicate a drive for this course only.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="online-resources">Online Resources<a class="hash-link" href="#online-resources" title="Direct link to heading">​</a></h3><ul><li><a href="https://wiki.centos.org/TipsAndTricks#head-4c9ee55a5c9dc051bd32e795b46a3856e41a0335" target="_blank" rel="noopener noreferrer">Centos7 Install Tips</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-host-installation">Investigation 1: Host Installation<a class="hash-link" href="#investigation-1-host-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation-instructions-for-centos-7">Installation instructions for CentOS 7<a class="hash-link" href="#installation-instructions-for-centos-7" title="Direct link to heading">​</a></h3><ol><li><p>It may be advisable to obtain the latest version of the CentOS 7 Full Installation DVD since there may be improvements since the last version from when you took OPS235.</p></li><li><p>Download and burn on a DVD a copy of the CentOS 7 installation DVD (64 bit edition) from the CentOS web site or the Belmont server.</p><ul><li><p><strong>Note</strong>: we&#x27;ll be using the 64 bit version of CentOS because all of our lab computers are equipped with Intel 64 bit mainboards and CPUs, and any computer you bought in the last few years for yourself will be 64bit as well.</p></li><li><p><strong>Seneca&#x27;s mirror of CentOS</strong>: <a href="https://mirror.senecacollege.ca/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso" target="_blank" rel="noopener noreferrer">https://mirror.senecacollege.ca/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso</a></p><ul><li>This is very fast, but is only accessible from within Seneca&#x27;s network - you can&#x27;t access this from home. You can burn this disc on the machines in the Open Lab.)</li></ul></li><li><p><strong>Outside Seneca College link (available from any Internet connection):</strong> <a href="https://mirror.netflash.net/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso" target="_blank" rel="noopener noreferrer">https://mirror.netflash.net/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso</a></p></li></ul></li><li><p>You need to refer to your OPS235 notes in order to install your host machine. Here is a direct link: OPS245 - Lab1 (ADD LINK)</p></li><li><p>Customize your installation following these guidelines:</p><ul><li><strong>Turn on networking</strong> and use <strong>host</strong> as the <strong>hostname</strong>.</li><li>Under software selection, choose <strong>Gnome desktop.</strong></li><li>The partition setup is similar to what you had in OPS235:<ul><li>Delete any old partitions.</li><li>Select the hard disk and indicate &quot;I will configure partitions&quot; and click done.</li><li>Click the link to <strong>create them (partitions) automatically</strong> (this will give a typical layout with /, /boot, /boot/efi, /home, etc).</li><li>Free up at least <strong>100GB</strong> of disk space by shrinking the <strong>/home</strong> partition (At least <strong>40</strong> GB for root (/) and <strong>40GB</strong> for /home). Since your machine will have far fewer users and more virtual machines than a typical installation, we will need that space elsewhere.</li><li>Create a new logical volume for <strong>/var/lib/libvirt/images</strong> and give it the space made available by shrinking /home (You will need enough space for up to 10 virtual machines at 8GB each plus room to compress/extract images).</li><li>Make certain that the existing partitions <strong>except swap, /boot and /boot/efi</strong> have the file system type <strong>ext4</strong> (not xfs).</li></ul></li></ul></li><li><p>After the installation starts you will also have the opportunity to create users.</p><ul><li>Set the root password</li><li>Create a <strong>user account</strong> named with your <strong>MySeneca ID</strong></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="first-boot">First Boot<a class="hash-link" href="#first-boot" title="Direct link to heading">​</a></h3><ol><li>In the current version of CentOS the first time you boot your system a graphical licence prompt comes up.</li><li>Log in and check that you have access to the internet. If you don&#x27;t - you need to get the network interface to come up on boot. Edit the appropriate config file and configure your main network interface to come up at boot.<ul><li>You can then use the <strong>ifup</strong>/<strong>ifdown</strong> commands to reset your network configuration or you can just reboot.</li></ul></li><li>Make certain that <strong>SELinux</strong> is <strong>enforcing</strong> for security reasons (this should be the default). To make it <em>enforcing</em>, simply edit the <strong>/etc/selinux/config</strong> file and follow the instructions inside.</li></ol><p><strong>SELinux in Andrew&#x27;s sections:</strong> If you&#x27;re in one of Andrew&#x27;s sections - please disable SELinux (i.e. do the opposite of the bullet above). This will give you some extra freedom in the rest of the course to learn and experiment without being bogged down by inexplicable permission denied errors.</p><ol start="4"><li>Install all updates using the <strong>yum update</strong> command.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-iptables">Using iptables<a class="hash-link" href="#using-iptables" title="Direct link to heading">​</a></h3><p>The most recent variants of Centos and Fedora are using a service called <strong>firewalld</strong> that is intended to replace <strong>iptables</strong>, however the <em>iptables</em> service is still in relatively common usage. In this course we will concentrate on <em>iptables</em>.</p><ol><li>Disable firewalld:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl disable firewalld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl stop firewalld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Install and enable the IPTables services:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> iptables-services</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl </span><span class="token builtin class-name">enable</span><span class="token plain"> iptables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start iptables</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this point you have a basic Centos system installed and updated. This will serve as a host for the virtual machines where you will do the majority of the work in this course. All the rest of our labs will assume you have this basic system running. If, for any reason, your system becomes corrupted during the semester, you&#x27;ll have to redo this lab to be able to continue with the remaining uncompleted labs. You are responsible for YOUR system. If you do not perform back-ups you have taken this risk on yourself. Poor planning on your part does not constitute an emergency for anyone else.</p><p><strong>Record steps, commands, and your observations in INVESTIGATION 1 in your OPS235 lab log-book</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-virtual-machine-installation">Investigation 2: Virtual Machine Installation<a class="hash-link" href="#investigation-2-virtual-machine-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-a-vm-host">Configuring a VM host<a class="hash-link" href="#configuring-a-vm-host" title="Direct link to heading">​</a></h3><ol><li><p>You will need to install some software to allow your machine to act as a host for virtual machines. We&#x27;ll be using the same <strong>libvirt</strong> and <strong>virt-manager</strong> you used in OPS235 - Lab2 (ADD LINK).</p><ul><li>You may find it helpful to refer back to the <strong>OPS235 notes</strong> to perform the following operations:<ul><li>Install the required virtualization software</li><li>Start and enable the virtualization service</li><li>Reboot your host machine</li></ul></li></ul></li><li><p>Start the graphical virtual machine manager (<em>virt-manager</em>). Do this as you regular user, and don&#x27;t run virt-manager from a terminal where you&#x27;re logged in as root.</p></li><li><p>We will be creating our own virtual network. A default virtual network has been created for you, but you will be using a custom one in this course.</p><ul><li>Right click <strong>localhost (QEMU)</strong> and select <strong>Details</strong>.</li><li>Click on the <strong>Virtual Networks</strong> tab.</li><li>Stop and delete the <strong>default</strong> network.</li><li>Use the <strong>plus sign</strong> to add a new virtual network using the following options:<ul><li>Name your virtual network <strong>ops335</strong></li><li>Use the <strong>last two digits of your student number for the third octet of network IP address</strong> (for example, if your student number is 000-000-0<strong>90</strong>, the network address would be 192.168.<strong>90</strong>.0/24.</li><li>Ensure the DHCP range will allow you to assign <strong>at least 10 static IP addresses outside it</strong> (note: leave the low numbers available for static addresses).</li><li>Choose <strong>Forwarding to physical network</strong> radio button, <strong>Destination: Any physical device</strong> and <strong>Mode: NAT</strong></li><li>Ensure the network is <strong>started at boot</strong>.</li></ul></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm-installation">VM Installation<a class="hash-link" href="#vm-installation" title="Direct link to heading">​</a></h3><p>With the virtualization software installed and your personal network created, you are now ready to create your first virtual machine. First, It is a good idea to make certain that your host machine has been set up correctly prior to creating your first virtual machine:</p><ol><li>Open a separate terminal and issue the <code>ip address show</code> command on your host machine to know your physical network and your virtual network. Note this information for the next few steps.</li><li>Issue the following command to download Bash shell script to check your host machine&#x27;s set-up prior to proceeding with this lab:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> http://ict.senecacollege.ca/~andrew.smith/ops335/labcheck_install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Assign execute permissions, and run the script to check your work:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">labcheck_install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Use the information from the <strong>ip address show</strong> command to correctly specify the <strong>physical network interface</strong> and the <strong>virtual network interface</strong>.<ul><li><strong>NOTE</strong>: You will need an ISO file for CentOS 7 (the same one you burned your DVD from). It is recommended to use the command to download this image onto your host machine. In this way, you can keep it on your host machine for the remainder of this course in case you need it:</li></ul></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> http://mirror.csclub.uwaterloo.ca/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Perform the following steps to create your first VM on your Virtual Machine Manager application:</p><ol><li>Create a new virtual machine named <strong>vm1</strong>.</li><li>Accept the default file type (which is <strong>qcow2</strong>). You are NOT required to specify the VM file pathname as you did in OPS235.</li></ol><p><strong>VM File Types</strong> ( .qcow2 <strong>vs</strong> .img ): In OPS235, you selected the VM images as a &quot;<strong>raw</strong>&quot; image. In OPS335, you will be accepting the default image file &quot;<strong>.qcow2</strong>&quot; (which stands for &quot;QMENU Copy on Write version 2&quot; ) that provides more features when manipulating stored VM images.</p><ol start="3"><li><p>Since you will be installing a Linux server (as opposed to a Gnome Desktop workstation), you can <strong>use the default memory and CPU options for use with lab computers</strong>.</p></li><li><p>Set the disk image size set to <strong>8GB</strong></p><ul><li>Note: Since you already setup your virtual network to OPS335, your VM will be automatically connected to your new ops335 virtual network.</li></ul></li><li><p>Note the following installation steps when you install your created VM:</p><ul><li>Select the correct <em>location</em> / <em>Time Zone</em>.</li><li>For Software Selection: Accept the default <strong>minimum install</strong>. None of your VMs in this course will have a GUI since GUIs needlessly consume resources and image space.<ol><li>Click <strong>Installation Destination</strong>, and then click <strong>Done</strong> to confirm that an <strong>automatic install</strong> will be performed.</li><li>Click Network &amp; Hostname and set hostname to: <strong>vm1.localdomain</strong> and make certain the <em>Ethernet connection</em> is set to <strong>ON</strong>.</li><li>During installation you will be prompted to set the root password and an <strong>initial user account</strong>. For the <em>initial user</em>, enter the same information you entered on your host machine.</li></ol></li></ul></li></ol><p><strong>First user created:</strong> For successful completion of the labs, please ensure the first user created is named using your Seneca username.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="first-boot-1">First Boot<a class="hash-link" href="#first-boot-1" title="Direct link to heading">​</a></h3><ol><li>You will notice that the server installation defaults to a command-line interface. This is normal, and we will only be using this interface during this course.</li><li>Ensure your machine has a network connection by running the command</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> your_seneca_id@matrix.senecacollege.ca</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>If that did not work - make sure GlobalProtect VPN is installed on your Windows/Mac and connected. If it is, ensure your CentOS network interface is started automatically on boot.</li></ol><p><strong>Default for network config for onboot:</strong> If you&#x27;ve turned on your networking interface during installation - it will be turned on by default. If you&#x27;ve left the network interface off during the installation - it will be off by default.</p><ol start="4"><li>Once you have a working connection - update your machine.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> yum update</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>Install the <strong>bind-utils</strong> package. The commands it provides (e.g. nslookup) will be useful in troubleshooting your network connection.</li><li>You may also want to install the <strong>nmap</strong>, <strong>telnet</strong> and <strong>net-tools</strong> packages to help you troubleshoot connectivity issues.</li><li>Configure <strong>firewalld</strong>, <strong>iptables</strong> and (if required) <strong>SELinux</strong> the same way you did for the host.</li><li>Reboot the virtual machine once it is updated.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloning-a-virtual-machine">Cloning a Virtual Machine<a class="hash-link" href="#cloning-a-virtual-machine" title="Direct link to heading">​</a></h3><ol><li><p>Now that you have one virtual machine working, you will create two more. If you struggled with the previous steps, repeat them to create two more virtual machines.</p></li><li><p><strong>If you are confident with what you have done so far, you may clone your existing machine to create the others by performing the following steps:</strong></p><ol><li>Make certain that your <strong>vm1</strong> virtual machine is shutdown.</li><li>For your <strong>vm1</strong> machine, go to the details section and remove the device <strong>Channel qemu-ga</strong>.</li><li>In the virtual machine manager, <strong>right click</strong> on <em>vm1</em> and select <strong>Clone</strong>....</li><li>Set the Name to be: <strong>vm2</strong></li></ol></li><li><p>Once successfully created, boot the new VM and correct the host name. This can be done using the <strong>hostnamectl</strong> command-line tool.</p></li><li><p>Record in your notes the steps for cloning a vm.</p></li><li><p>Use the host command to check for connectivity</p></li><li><p>After creating <strong>vm2</strong> repeat the above steps to create <strong>vm3</strong> and correct the hostname (<strong>vm2.localdomain</strong> and <strong>vm3.localdomain</strong> respectively).</p></li></ol><p><strong>Backup your VMs!</strong></p><p>You MUST backup ALL of your VMs whenever you complete your <strong>OPS335 labs</strong> or when working on your <strong>OPS335 assignments</strong>:
<!-- -->[ Backing up Your Virtual Machines ]<!-- --> (ADD LINK). Refer to OPS235 lab2 notes on how to backup your VMs. You should backup your VMs to a USB key in case something happens to your host machine. Note: VM files contained in the <strong>/var/lib/libvirt/images</strong> directory have the extension in <strong>.qcow2</strong> and instead of <strong>.img</strong> (eg. for OPS235 courses prior to Fall 2016.</p><p><strong>Record steps, commands, and your observations in INVESTIGATION 2 in your OPS335 lab log-book</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="completing-the-lab">Completing The Lab<a class="hash-link" href="#completing-the-lab" title="Direct link to heading">​</a></h2><p>Upon completion of this lab you should have 4 installed machines. One machine running Centos 7 and acting as a host and gateway for three virtual machines running minimal installations of Centos 7. Each machine must be fully updated and have access to the network (for example, to get further updates) and be able ping the others. Each machine must be using iptables for the firewall.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="online-submission">Online Submission<a class="hash-link" href="#online-submission" title="Direct link to heading">​</a></h3><p>Follow the instructions for lab 0 on blackboard.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploration-questions">Exploration Questions<a class="hash-link" href="#exploration-questions" title="Direct link to heading">​</a></h2><ol><li>What kernel release is your host system running?</li><li>What kernel release are your virtual machines running?</li><li>What is the UUID (Universally Unique Identifier) of your root file system? What command was used to obtain this information?</li><li>What is the size and type of the /boot file system on your host?</li><li>What file was edited to change the host name on your VM&#x27;s? Are there other ways to change the hostname?</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seneca-ICTOER/OPS335/tree/main/docs/A-Labs/installation-lab0.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/OPS335/weekly-schedule"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Weekly Schedule</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OPS335/A-Labs/lab1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 1</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#objective-and-preparation" class="table-of-contents__link toc-highlight">Objective and Preparation</a><ul><li><a href="#required-materials" class="table-of-contents__link toc-highlight">Required materials</a></li><li><a href="#online-resources" class="table-of-contents__link toc-highlight">Online Resources</a></li></ul></li><li><a href="#investigation-1-host-installation" class="table-of-contents__link toc-highlight">Investigation 1: Host Installation</a><ul><li><a href="#installation-instructions-for-centos-7" class="table-of-contents__link toc-highlight">Installation instructions for CentOS 7</a></li><li><a href="#first-boot" class="table-of-contents__link toc-highlight">First Boot</a></li><li><a href="#using-iptables" class="table-of-contents__link toc-highlight">Using iptables</a></li></ul></li><li><a href="#investigation-2-virtual-machine-installation" class="table-of-contents__link toc-highlight">Investigation 2: Virtual Machine Installation</a><ul><li><a href="#configuring-a-vm-host" class="table-of-contents__link toc-highlight">Configuring a VM host</a></li><li><a href="#vm-installation" class="table-of-contents__link toc-highlight">VM Installation</a></li><li><a href="#first-boot-1" class="table-of-contents__link toc-highlight">First Boot</a></li><li><a href="#cloning-a-virtual-machine" class="table-of-contents__link toc-highlight">Cloning a Virtual Machine</a></li></ul></li><li><a href="#completing-the-lab" class="table-of-contents__link toc-highlight">Completing The Lab</a><ul><li><a href="#online-submission" class="table-of-contents__link toc-highlight">Online Submission</a></li></ul></li><li><a href="#exploration-questions" class="table-of-contents__link toc-highlight">Exploration Questions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OPS335 - Open System Application Server</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OPS335/">Contents</a></li><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Seneca College.</div></div></div></footer></div>
<script src="/OPS335/assets/js/runtime~main.a1473b43.js"></script>
<script src="/OPS335/assets/js/main.39236383.js"></script>
</body>
</html>